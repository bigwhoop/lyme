<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        
        <link rel="stylesheet" type="text/css" href="lyme.default.css">
        <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Wellfleet&subset=latin,latin-ext">
    </head>
    <body>
        <div id="right">
            <div id="lyme"></div>
        </div>
            
        <div id="left">
            <textarea id="markdown">
# Welcome to LYME

LYME stands for **Low Key Markdown Editor** and guess what, it's simply that. LYME aims to stay in the background and and provide you with a distraction-free interface for writing text. 

## Editor

### Blocks

The given text is split into blocks. A block is denoted by two line breaks. You can click any block to edit it. As soon as you leave a block the `onTextChange()` function is called.

### Hot Keys

If you're editing a block you can use the following hot keys to navigate the editor:

* `CTRL` + `ALT` + `DOWN ARROW` - Move to the next block.
* `CTRL` + `ALT` + `UP ARROW` - Move to the previous block.
* `CTRL` + `ALT` + `BACKSPACE` - Delete the current block.
* `CTRL` + `ALT` + `RETURN` - Add new block below the current block.
* `CTRL` + `ALT` + `SHIFT` + `DOWN ARROW` - Place the current block after the next block.
* `CTRL` + `ALT` + `SHIFT` + `UP ARROW` - Place the current block before the previous block.
* `ESCAPE` - Leave the current block.

### Formatting

As implied by the name, LYME uses markdown to convert text into HTML. Besides that, LYME provides some little helpers like support for indention.

## Integration

### Initialization

Here is some sample code that initializes a LYME editor.

    <script src="jquery.min.js"></script>
    <script src="jquery.lyme-0.1.0.js"></script>
    <script src="showdown.min.js"></script>
    <script>
        $('#lyme').lyme({
            text : '# Some Markdown Text',
            onTextChange : function(text) {
                console.log(text);
            }
        });
    </script>

What you decide to do on the `onTextChange()` call is up to you. You can look at the code of this page to see how you can easily read and update a textarea element.

### Plugins

You can register plugins (simple objects) with callback functions which are called on various events. The most important one you've already seen in the previous example: The `onTextChange` option is just a wrapper for a plugin with only the `onTextChange` event.

`onTextChange(string text) void`  
Called when the Markdown of a block was updated.

`onTextToHtmlConversion(string text) string`  
Called when the Markdown is converted to the HTML. Must return a string containing the HTML.

`onPreStartEditing($.jQuery $block) void`  
Called when a block is about to go into edit mode. 

`onPostStartEditing($.jQuery $block) void`  
Called when a block went into edit mode successfully.
            </textarea>
        </div>
        
        <!-- jQuery -->
        <script src="deps/jquery.min.js"></script>
        
        <!-- LYME -->
        <script src="jquery.lyme-0.1.0.js"></script>
        
        <!-- Dependencies -->
        <script src="deps/showdown.min.js"></script>
        <script src="deps/jquery.scroll-to-1.4.2.min.js"></script>
        
        <script>
            $(function() {
                $('#lyme').lyme({
                    text : $.trim($('#markdown').text()),
                    onTextChange : function(text) {
                        $('#markdown').val(text);
                    }
                });
            });
        </script>
    </body>
</html>